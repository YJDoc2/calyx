(async()=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function r(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(t){if(t.ep)return;t.ep=!0;const s=r(t);fetch(t.href,s)}})();const je=""+new URL("calyx_web_bg-DLDhFcD7.wasm",import.meta.url).href,Me=async(e={},r)=>{let n;if(r.startsWith("data:")){const t=r.replace(/^data:.*?base64,/,"");let s;if(typeof Buffer=="function"&&typeof Buffer.from=="function")s=Buffer.from(t,"base64");else if(typeof atob=="function"){const d=atob(t);s=new Uint8Array(d.length);for(let l=0;l<d.length;l++)s[l]=d.charCodeAt(l)}else throw new Error("Cannot decode base64-encoded data URL");n=await WebAssembly.instantiate(s,e)}else{const t=await fetch(r),s=t.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&s.startsWith("application/wasm"))n=await WebAssembly.instantiateStreaming(t,e);else{const d=await t.arrayBuffer();n=await WebAssembly.instantiate(d,e)}}return n.instance.exports},$=new Array(32).fill(void 0);$.push(void 0,null,!0,!1);function oe(e){return $[e]}let M=0,Z=null;function U(){return(Z===null||Z.buffer!==X.buffer)&&(Z=new Uint8Array(X.buffer)),Z}const Oe=typeof TextEncoder>"u"?(0,module.require)("util").TextEncoder:TextEncoder;let G=new Oe("utf-8");const Ie=typeof G.encodeInto=="function"?function(e,r){return G.encodeInto(e,r)}:function(e,r){const n=G.encode(e);return r.set(n),{read:e.length,written:n.length}};function J(e,r,n){if(n===void 0){const a=G.encode(e),c=r(a.length);return U().subarray(c,c+a.length).set(a),M=a.length,c}let t=e.length,s=r(t);const d=U();let l=0;for(;l<t;l++){const a=e.charCodeAt(l);if(a>127)break;d[s+l]=a}if(l!==t){l!==0&&(e=e.slice(l)),s=n(s,t,t=l+e.length*3);const a=U().subarray(s+l,s+t),c=Ie(e,a);l+=c.written}return M=l,s}let K=null;function O(){return(K===null||K.buffer!==X.buffer)&&(K=new Int32Array(X.buffer)),K}let q=$.length;function Ne(e){e<36||($[e]=q,q=e)}function qe(e){const r=oe(e);return Ne(e),r}let V=32;function Re(e){if(V==1)throw new Error("out of js stack");return $[--V]=e,V}const He=typeof TextDecoder>"u"?(0,module.require)("util").TextDecoder:TextDecoder;let he=new He("utf-8",{ignoreBOM:!0,fatal:!0});he.decode();function ve(e,r){return he.decode(U().subarray(e,e+r))}function Be(e,r,n){try{const d=ye(-16),l=J(r,Y,Q),a=M,c=J(n,Y,Q),v=M;Ke(d,Re(e),l,a,c,v);var t=O()[d/4+0],s=O()[d/4+1];return ve(t,s)}finally{ye(16),$[V++]=void 0,be(t,s)}}function De(e){q===$.length&&$.push($.length+1);const r=q;return q=$[r],$[r]=e,r}function We(e,r){const n=oe(r),t=JSON.stringify(n===void 0?null:n),s=J(t,Y,Q),d=M;O()[e/4+1]=d,O()[e/4+0]=s}function Ze(){const e=new Error;return De(e)}function Ue(e,r){const n=oe(r).stack,t=J(n,Y,Q),s=M;O()[e/4+1]=s,O()[e/4+0]=t}function Ge(e,r){try{console.error(ve(e,r))}finally{be(e,r)}}function Je(e){qe(e)}URL=globalThis.URL;const I=await Me({"./calyx_web_bg.js":{__wbindgen_json_serialize:We,__wbg_new_693216e109162396:Ze,__wbg_stack_0ddaca5d1abfb52f:Ue,__wbg_error_09919627ac0992f5:Ge,__wbindgen_object_drop_ref:Je}},je),X=I.memory,Ke=I.run,Y=I.__wbindgen_malloc,Q=I.__wbindgen_realloc,ye=I.__wbindgen_add_to_stack_pointer,be=I.__wbindgen_free,Ve="https://raw.githubusercontent.com/calyxir/calyx/",Xe=[{name:"Sequence",file:"tests/correctness/seq.futil",root:"/",passes:["tdcc"]},{name:"Conditional",file:"tests/correctness/if.futil",root:"/",passes:["simplify-with-control","tdcc"]},{name:"Loops",file:"tests/correctness/while.futil",root:"/",passes:["simplify-with-control","tdcc"]},{name:"Invoke (call)",file:"tests/passes/compile-invoke.futil",root:"/",passes:["compile-invoke"]},{name:"Parallel",file:"tests/correctness/par.futil",root:"/",passes:["tdcc"]},{name:"Externalize",file:"tests/passes/externalize.futil",root:"/",passes:["externalize"]},{name:"Infer Static Timing",file:"tests/passes/infer-static/component.futil",root:"/",passes:["infer-static-timing"]},{name:"Minimize Regs Simple",file:"tests/passes/minimize-regs/simple-liveness.futil",root:"/",passes:["minimize-regs","dead-cell-removal"]},{name:"Minimize Regs (Nested Par)",file:"tests/passes/minimize-regs/nested-par.futil",root:"/",passes:["minimize-regs","dead-cell-removal"]},{name:"Resource Sharing",file:"tests/passes/resource-sharing/share.futil",root:"/",passes:["resource-sharing","dead-cell-removal"]}],R={url_prefix:Ve,examples:Xe},Ye=[{name:"well-formed",title:"Well Formed",description:"well-formed"},{name:"papercut",title:"Papercut",description:"papercut"},{name:"externalize",title:"Externalize Memories",description:"externalize"},{name:"compile-invoke",title:"Compile Invoke",description:"compile-invoke"},{name:"collapse-control",title:"Collapse Control",description:"collapse-control"},{name:"infer-static-timing",title:"Infer Static Timing",description:"infer-static-timing"},{name:"resource-sharing",title:"Resource Sharing",description:"resource-sharing"},{name:"minimize-regs",title:"Minimize Regs",description:"minimize-regs"},{name:"compile-empty",title:"Compile Empty",description:"compile-empty"},{name:"simplify-with-control",title:"Remove combinational groups",description:"tdcc"},{name:"tdcc",title:"Top Down Compile Control",description:"tdcc"},{name:"dead-cell-removal",title:"Dead Cell Removal",description:"dead-cell-removal"},{name:"dead-group-removal",title:"Dead Group Removal",description:"dead-group-removal"},{name:"go-insertion",title:"Go Insertion",description:"go-insertion"},{name:"component-interface-inserter",title:"Component Interface Inserter",description:"component-interface-inserter"},{name:"hole-inliner",title:"Hole Inliner",description:"hole-inliner"},{name:"clk-insertion",title:"Clk Insertion",description:"clk-insertion"}],se={passes:Ye},Qe="4441ae8e55e34205f22cdb5264950307d1a4a87d",le={version:Qe};function z(){}z.prototype={diff:function(e,r){var n,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=t.callback;typeof t=="function"&&(s=t,t={}),this.options=t;var d=this;function l(i){return s?(setTimeout(function(){s(void 0,i)},0),!0):i}e=this.castInput(e),r=this.castInput(r),e=this.removeEmpty(this.tokenize(e)),r=this.removeEmpty(this.tokenize(r));var a=r.length,c=e.length,v=1,y=a+c;t.maxEditLength&&(y=Math.min(y,t.maxEditLength));var h=(n=t.timeout)!==null&&n!==void 0?n:1/0,k=Date.now()+h,E=[{oldPos:-1,lastComponent:void 0}],S=this.extractCommon(E[0],r,e,0);if(E[0].oldPos+1>=c&&S+1>=a)return l([{value:this.join(r),count:r.length}]);var x=-1/0,w=1/0;function F(){for(var i=Math.max(x,-v);i<=Math.min(w,v);i+=2){var u=void 0,p=E[i-1],g=E[i+1];p&&(E[i-1]=void 0);var f=!1;if(g){var b=g.oldPos-i;f=g&&0<=b&&b<a}var m=p&&p.oldPos+1<c;if(!f&&!m){E[i]=void 0;continue}if(!m||f&&p.oldPos+1<g.oldPos?u=d.addToPath(g,!0,void 0,0):u=d.addToPath(p,void 0,!0,1),S=d.extractCommon(u,r,e,i),u.oldPos+1>=c&&S+1>=a)return l(et(d,u.lastComponent,r,e,d.useLongestToken));E[i]=u,u.oldPos+1>=c&&(w=Math.min(w,i-1)),S+1>=a&&(x=Math.max(x,i+1))}v++}if(s)(function i(){setTimeout(function(){if(v>y||Date.now()>k)return s();F()||i()},0)})();else for(;v<=y&&Date.now()<=k;){var o=F();if(o)return o}},addToPath:function(e,r,n,t){var s=e.lastComponent;return s&&s.added===r&&s.removed===n?{oldPos:e.oldPos+t,lastComponent:{count:s.count+1,added:r,removed:n,previousComponent:s.previousComponent}}:{oldPos:e.oldPos+t,lastComponent:{count:1,added:r,removed:n,previousComponent:s}}},extractCommon:function(e,r,n,t){for(var s=r.length,d=n.length,l=e.oldPos,a=l-t,c=0;a+1<s&&l+1<d&&this.equals(r[a+1],n[l+1]);)a++,l++,c++;return c&&(e.lastComponent={count:c,previousComponent:e.lastComponent}),e.oldPos=l,a},equals:function(e,r){return this.options.comparator?this.options.comparator(e,r):e===r||this.options.ignoreCase&&e.toLowerCase()===r.toLowerCase()},removeEmpty:function(e){for(var r=[],n=0;n<e.length;n++)e[n]&&r.push(e[n]);return r},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};function et(e,r,n,t,s){for(var d=[],l;r;)d.push(r),l=r.previousComponent,delete r.previousComponent,r=l;d.reverse();for(var a=0,c=d.length,v=0,y=0;a<c;a++){var h=d[a];if(h.removed){if(h.value=e.join(t.slice(y,y+h.count)),y+=h.count,a&&d[a-1].added){var k=d[a-1];d[a-1]=d[a],d[a]=k}}else{if(!h.added&&s){var E=n.slice(v,v+h.count);E=E.map(function(x,w){var F=t[y+w];return F.length>x.length?F:x}),h.value=e.join(E)}else h.value=e.join(n.slice(v,v+h.count));v+=h.count,h.added||(y+=h.count)}}var S=d[c-1];return c>1&&typeof S.value=="string"&&(S.added||S.removed)&&e.equals("",S.value)&&(d[c-2].value+=S.value,d.pop()),d}var we=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,xe=/\S/,ke=new z;ke.equals=function(e,r){return this.options.ignoreCase&&(e=e.toLowerCase(),r=r.toLowerCase()),e===r||this.options.ignoreWhitespace&&!xe.test(e)&&!xe.test(r)},ke.tokenize=function(e){for(var r=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<r.length-1;n++)!r[n+1]&&r[n+2]&&we.test(r[n])&&we.test(r[n+2])&&(r[n]+=r[n+2],r.splice(n+1,2),n--);return r};var Fe=new z;Fe.tokenize=function(e){this.options.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var r=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var t=0;t<n.length;t++){var s=n[t];t%2&&!this.options.newlineIsToken?r[r.length-1]+=s:(this.options.ignoreWhitespace&&(s=s.trim()),r.push(s))}return r};var tt=new z;tt.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var nt=new z;nt.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function ee(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ee=function(r){return typeof r}:ee=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ee(e)}var rt=Object.prototype.toString,H=new z;H.useLongestToken=!0,H.tokenize=Fe.tokenize,H.castInput=function(e){var r=this.options,n=r.undefinedReplacement,t=r.stringifyReplacer,s=t===void 0?function(d,l){return typeof l>"u"?n:l}:t;return typeof e=="string"?e:JSON.stringify(ue(e,null,null,s),s,"  ")},H.equals=function(e,r){return z.prototype.equals.call(H,e.replace(/,([\r\n])/g,"$1"),r.replace(/,([\r\n])/g,"$1"))};function ue(e,r,n,t,s){r=r||[],n=n||[],t&&(e=t(s,e));var d;for(d=0;d<r.length;d+=1)if(r[d]===e)return n[d];var l;if(rt.call(e)==="[object Array]"){for(r.push(e),l=new Array(e.length),n.push(l),d=0;d<e.length;d+=1)l[d]=ue(e[d],r,n,t,s);return r.pop(),n.pop(),l}if(e&&e.toJSON&&(e=e.toJSON()),ee(e)==="object"&&e!==null){r.push(e),l={},n.push(l);var a=[],c;for(c in e)e.hasOwnProperty(c)&&a.push(c);for(a.sort(),d=0;d<a.length;d+=1)c=a[d],l[c]=ue(e[c],r,n,t,c);r.pop(),n.pop()}else l=e;return l}var ce=new z;ce.tokenize=function(e){return e.slice()},ce.join=ce.removeEmpty=function(e){return e};var Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function at(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ee={exports:{}};(function(e){var r=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},n=function(t){var s=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,d=0,l={},a={manual:t.Prism&&t.Prism.manual,disableWorkerMessageHandler:t.Prism&&t.Prism.disableWorkerMessageHandler,util:{encode:function o(i){return i instanceof c?new c(i.type,o(i.content),i.alias):Array.isArray(i)?i.map(o):i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(o){return Object.prototype.toString.call(o).slice(8,-1)},objId:function(o){return o.__id||Object.defineProperty(o,"__id",{value:++d}),o.__id},clone:function o(i,u){u=u||{};var p,g;switch(a.util.type(i)){case"Object":if(g=a.util.objId(i),u[g])return u[g];p={},u[g]=p;for(var f in i)i.hasOwnProperty(f)&&(p[f]=o(i[f],u));return p;case"Array":return g=a.util.objId(i),u[g]?u[g]:(p=[],u[g]=p,i.forEach(function(b,m){p[m]=o(b,u)}),p);default:return i}},getLanguage:function(o){for(;o;){var i=s.exec(o.className);if(i)return i[1].toLowerCase();o=o.parentElement}return"none"},setLanguage:function(o,i){o.className=o.className.replace(RegExp(s,"gi"),""),o.classList.add("language-"+i)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(p){var o=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(p.stack)||[])[1];if(o){var i=document.getElementsByTagName("script");for(var u in i)if(i[u].src==o)return i[u]}return null}},isActive:function(o,i,u){for(var p="no-"+i;o;){var g=o.classList;if(g.contains(i))return!0;if(g.contains(p))return!1;o=o.parentElement}return!!u}},languages:{plain:l,plaintext:l,text:l,txt:l,extend:function(o,i){var u=a.util.clone(a.languages[o]);for(var p in i)u[p]=i[p];return u},insertBefore:function(o,i,u,p){p=p||a.languages;var g=p[o],f={};for(var b in g)if(g.hasOwnProperty(b)){if(b==i)for(var m in u)u.hasOwnProperty(m)&&(f[m]=u[m]);u.hasOwnProperty(b)||(f[b]=g[b])}var A=p[o];return p[o]=f,a.languages.DFS(a.languages,function(_,L){L===A&&_!=o&&(this[_]=f)}),f},DFS:function o(i,u,p,g){g=g||{};var f=a.util.objId;for(var b in i)if(i.hasOwnProperty(b)){u.call(i,b,i[b],p||b);var m=i[b],A=a.util.type(m);A==="Object"&&!g[f(m)]?(g[f(m)]=!0,o(m,u,null,g)):A==="Array"&&!g[f(m)]&&(g[f(m)]=!0,o(m,u,b,g))}}},plugins:{},highlightAll:function(o,i){a.highlightAllUnder(document,o,i)},highlightAllUnder:function(o,i,u){var p={callback:u,container:o,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",p),p.elements=Array.prototype.slice.apply(p.container.querySelectorAll(p.selector)),a.hooks.run("before-all-elements-highlight",p);for(var g=0,f;f=p.elements[g++];)a.highlightElement(f,i===!0,p.callback)},highlightElement:function(o,i,u){var p=a.util.getLanguage(o),g=a.languages[p];a.util.setLanguage(o,p);var f=o.parentElement;f&&f.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(f,p);var b=o.textContent,m={element:o,language:p,grammar:g,code:b};function A(L){m.highlightedCode=L,a.hooks.run("before-insert",m),m.element.innerHTML=m.highlightedCode,a.hooks.run("after-highlight",m),a.hooks.run("complete",m),u&&u.call(m.element)}if(a.hooks.run("before-sanity-check",m),f=m.element.parentElement,f&&f.nodeName.toLowerCase()==="pre"&&!f.hasAttribute("tabindex")&&f.setAttribute("tabindex","0"),!m.code){a.hooks.run("complete",m),u&&u.call(m.element);return}if(a.hooks.run("before-highlight",m),!m.grammar){A(a.util.encode(m.code));return}if(i&&t.Worker){var _=new Worker(a.filename);_.onmessage=function(L){A(L.data)},_.postMessage(JSON.stringify({language:m.language,code:m.code,immediateClose:!0}))}else A(a.highlight(m.code,m.grammar,m.language))},highlight:function(o,i,u){var p={code:o,grammar:i,language:u};if(a.hooks.run("before-tokenize",p),!p.grammar)throw new Error('The language "'+p.language+'" has no grammar.');return p.tokens=a.tokenize(p.code,p.grammar),a.hooks.run("after-tokenize",p),c.stringify(a.util.encode(p.tokens),p.language)},tokenize:function(o,i){var u=i.rest;if(u){for(var p in u)i[p]=u[p];delete i.rest}var g=new h;return k(g,g.head,o),y(o,g,i,g.head,0),S(g)},hooks:{all:{},add:function(o,i){var u=a.hooks.all;u[o]=u[o]||[],u[o].push(i)},run:function(o,i){var u=a.hooks.all[o];if(!(!u||!u.length))for(var p=0,g;g=u[p++];)g(i)}},Token:c};t.Prism=a;function c(o,i,u,p){this.type=o,this.content=i,this.alias=u,this.length=(p||"").length|0}c.stringify=function o(i,u){if(typeof i=="string")return i;if(Array.isArray(i)){var p="";return i.forEach(function(A){p+=o(A,u)}),p}var g={type:i.type,content:o(i.content,u),tag:"span",classes:["token",i.type],attributes:{},language:u},f=i.alias;f&&(Array.isArray(f)?Array.prototype.push.apply(g.classes,f):g.classes.push(f)),a.hooks.run("wrap",g);var b="";for(var m in g.attributes)b+=" "+m+'="'+(g.attributes[m]||"").replace(/"/g,"&quot;")+'"';return"<"+g.tag+' class="'+g.classes.join(" ")+'"'+b+">"+g.content+"</"+g.tag+">"};function v(o,i,u,p){o.lastIndex=i;var g=o.exec(u);if(g&&p&&g[1]){var f=g[1].length;g.index+=f,g[0]=g[0].slice(f)}return g}function y(o,i,u,p,g,f){for(var b in u)if(!(!u.hasOwnProperty(b)||!u[b])){var m=u[b];m=Array.isArray(m)?m:[m];for(var A=0;A<m.length;++A){if(f&&f.cause==b+","+A)return;var _=m[A],L=_.inside,Pe=!!_.lookbehind,Te=!!_.greedy,gt=_.alias;if(Te&&!_.pattern.global){var ft=_.pattern.toString().match(/[imsuy]*$/)[0];_.pattern=RegExp(_.pattern.source,ft+"g")}for(var ze=_.pattern||_,C=p.next,T=g;C!==i.tail&&!(f&&T>=f.reach);T+=C.value.length,C=C.next){var N=C.value;if(i.length>o.length)return;if(!(N instanceof c)){var ne=1,P;if(Te){if(P=v(ze,T,o,Pe),!P||P.index>=o.length)break;var re=P.index,mt=P.index+P[0].length,j=T;for(j+=C.value.length;re>=j;)C=C.next,j+=C.value.length;if(j-=C.value.length,T=j,C.value instanceof c)continue;for(var W=C;W!==i.tail&&(j<mt||typeof W.value=="string");W=W.next)ne++,j+=W.value.length;ne--,N=o.slice(T,j),P.index-=T}else if(P=v(ze,0,N,Pe),!P)continue;var re=P.index,ae=P[0],ge=N.slice(0,re),Le=N.slice(re+ae.length),fe=T+N.length;f&&fe>f.reach&&(f.reach=fe);var ie=C.prev;ge&&(ie=k(i,ie,ge),T+=ge.length),E(i,ie,ne);var ht=new c(b,L?a.tokenize(ae,L):ae,gt,ae);if(C=k(i,ie,ht),Le&&k(i,C,Le),ne>1){var me={cause:b+","+A,reach:fe};y(o,i,u,C.prev,T,me),f&&me.reach>f.reach&&(f.reach=me.reach)}}}}}}function h(){var o={value:null,prev:null,next:null},i={value:null,prev:o,next:null};o.next=i,this.head=o,this.tail=i,this.length=0}function k(o,i,u){var p=i.next,g={value:u,prev:i,next:p};return i.next=g,p.prev=g,o.length++,g}function E(o,i,u){for(var p=i.next,g=0;g<u&&p!==o.tail;g++)p=p.next;i.next=p,p.prev=i,o.length-=g}function S(o){for(var i=[],u=o.head.next;u!==o.tail;)i.push(u.value),u=u.next;return i}if(!t.document)return t.addEventListener&&(a.disableWorkerMessageHandler||t.addEventListener("message",function(o){var i=JSON.parse(o.data),u=i.language,p=i.code,g=i.immediateClose;t.postMessage(a.highlight(p,a.languages[u],u)),g&&t.close()},!1)),a;var x=a.util.currentScript();x&&(a.filename=x.src,x.hasAttribute("data-manual")&&(a.manual=!0));function w(){a.manual||a.highlightAll()}if(!a.manual){var F=document.readyState;F==="loading"||F==="interactive"&&x&&x.defer?document.addEventListener("DOMContentLoaded",w):window.requestAnimationFrame?window.requestAnimationFrame(w):window.setTimeout(w,16)}return a}(r);e.exports&&(e.exports=n),typeof Ae<"u"&&(Ae.Prism=n),n.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.languages.markup.doctype.inside["internal-subset"].inside=n.languages.markup,n.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.replace(/&amp;/,"&"))}),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(t,s){var d={};d["language-"+s]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[s]},d.cdata=/^<!\[CDATA\[|\]\]>$/i;var l={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:d}};l["language-"+s]={pattern:/[\s\S]+/,inside:n.languages[s]};var a={};a[t]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return t}),"i"),lookbehind:!0,greedy:!0,inside:l},n.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(n.languages.markup.tag,"addAttribute",{value:function(t,s){n.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[s,"language-"+s],inside:n.languages[s]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.xml=n.languages.extend("markup",{}),n.languages.ssml=n.languages.xml,n.languages.atom=n.languages.xml,n.languages.rss=n.languages.xml,function(t){var s=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+s.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+s.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+s.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+s.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:s,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var d=t.languages.markup;d&&(d.tag.addInlined("style","css"),d.tag.addAttribute("style","css"))}(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:n.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),n.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),n.languages.markup&&(n.languages.markup.tag.addInlined("script","javascript"),n.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),n.languages.js=n.languages.javascript,function(){if(typeof n>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var t="Loading\u2026",s=function(x,w){return"\u2716 Error "+x+" while fetching file: "+w},d="\u2716 Error: File does not exist or is empty",l={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},a="data-src-status",c="loading",v="loaded",y="failed",h="pre[data-src]:not(["+a+'="'+v+'"]):not(['+a+'="'+c+'"])';function k(x,w,F){var o=new XMLHttpRequest;o.open("GET",x,!0),o.onreadystatechange=function(){o.readyState==4&&(o.status<400&&o.responseText?w(o.responseText):o.status>=400?F(s(o.status,o.statusText)):F(d))},o.send(null)}function E(x){var w=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(x||"");if(w){var F=Number(w[1]),o=w[2],i=w[3];return o?i?[F,Number(i)]:[F,void 0]:[F,F]}}n.hooks.add("before-highlightall",function(x){x.selector+=", "+h}),n.hooks.add("before-sanity-check",function(x){var w=x.element;if(w.matches(h)){x.code="",w.setAttribute(a,c);var F=w.appendChild(document.createElement("CODE"));F.textContent=t;var o=w.getAttribute("data-src"),i=x.language;if(i==="none"){var u=(/\.(\w+)$/.exec(o)||[,"none"])[1];i=l[u]||u}n.util.setLanguage(F,i),n.util.setLanguage(w,i);var p=n.plugins.autoloader;p&&p.loadLanguages(i),k(o,function(g){w.setAttribute(a,v);var f=E(w.getAttribute("data-range"));if(f){var b=g.split(/\r\n?|\n/g),m=f[0],A=f[1]==null?b.length:f[1];m<0&&(m+=b.length),m=Math.max(0,Math.min(m-1,b.length)),A<0&&(A+=b.length),A=Math.max(0,Math.min(A,b.length)),g=b.slice(m,A).join(`
`),w.hasAttribute("data-start")||w.setAttribute("data-start",String(m+1))}F.textContent=g,n.highlightElement(F)},function(g){w.setAttribute(a,y),F.textContent=g})}}),n.plugins.fileHighlight={highlight:function(x){for(var w=(x||document).querySelectorAll(h),F=0,o;o=w[F++];)n.highlightElement(o)}};var S=!1;n.fileHighlight=function(){S||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),S=!0),n.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(Ee);var it=Ee.exports;const B=at(it);B.languages.futil={"diff-addition":{pattern:/^\+.*$/m},"diff-deletion":{pattern:/^-.*$/m},comment:B.languages.clike.comment,string:{pattern:/(["])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},namespace:{pattern:/\b(?:extern|component|primitive)\b/,lookbehind:!0},function:{pattern:/\b(?:cells|wires|control|group|comb)\b/,lookbehind:!0},keyword:{pattern:/\b(?:|seq|par|if|while|with|invoke)\b/,lookbehind:!0},number:[{pattern:/\b[0-9]+'b[0-1]+\b/},{pattern:/\b[0-9]+'d[0-9]+\b/},{pattern:/\b[0-9]+'x[0-9A-Fa-f]+\b/},{pattern:/\b[0-9]+'o[0-7]+\b/},{pattern:/\b(?:[0-9]+)(?!')\b/}]},function(){typeof Prism>"u"||typeof document>"u"||!document.createRange||(Prism.plugins.KeepMarkup=!0,Prism.hooks.add("before-highlight",function(e){if(!e.element.children.length||!Prism.util.isActive(e.element,"keep-markup",!0))return;var r=Prism.util.isActive(e.element,"drop-tokens",!1);function n(a){return!(r&&a.nodeName.toLowerCase()==="span"&&a.classList.contains("token"))}var t=0,s=[];function d(a){if(!n(a)){l(a);return}var c={element:a,posOpen:t};s.push(c),l(a),c.posClose=t}function l(a){for(var c=0,v=a.childNodes.length;c<v;c++){var y=a.childNodes[c];y.nodeType===1?d(y):y.nodeType===3&&(t+=y.data.length)}}l(e.element),s.length&&(e.keepMarkup=s)}),Prism.hooks.add("after-highlight",function(e){if(e.keepMarkup&&e.keepMarkup.length){var r=function(n,t){for(var s=0,d=n.childNodes.length;s<d;s++){var l=n.childNodes[s];if(l.nodeType===1){if(!r(l,t))return!1}else l.nodeType===3&&(!t.nodeStart&&t.pos+l.data.length>t.node.posOpen&&(t.nodeStart=l,t.nodeStartPos=t.node.posOpen-t.pos),t.nodeStart&&t.pos+l.data.length>=t.node.posClose&&(t.nodeEnd=l,t.nodeEndPos=t.node.posClose-t.pos),t.pos+=l.data.length);if(t.nodeStart&&t.nodeEnd){var a=document.createRange();return a.setStart(t.nodeStart,t.nodeStartPos),a.setEnd(t.nodeEnd,t.nodeEndPos),t.node.element.innerHTML="",t.node.element.appendChild(a.extractContents()),a.insertNode(t.node.element),a.detach(),!1}}return!0};e.keepMarkup.forEach(function(n){r(e.element,{node:n,pos:0})}),e.highlightedCode=e.element.innerHTML}}))}(),function(){if(typeof Prism>"u"||typeof document>"u")return;var e="line-numbers",r=/\n(?!$)/g,n=Prism.plugins.lineNumbers={getLine:function(l,a){if(!(l.tagName!=="PRE"||!l.classList.contains(e))){var c=l.querySelector(".line-numbers-rows");if(c){var v=parseInt(l.getAttribute("data-start"),10)||1,y=v+(c.children.length-1);a<v&&(a=v),a>y&&(a=y);var h=a-v;return c.children[h]}}},resize:function(l){t([l])},assumeViewportIndependence:!0};function t(l){if(l=l.filter(function(c){var v=s(c),y=v["white-space"];return y==="pre-wrap"||y==="pre-line"}),l.length!=0){var a=l.map(function(c){var v=c.querySelector("code"),y=c.querySelector(".line-numbers-rows");if(!(!v||!y)){var h=c.querySelector(".line-numbers-sizer"),k=v.textContent.split(r);h||(h=document.createElement("span"),h.className="line-numbers-sizer",v.appendChild(h)),h.innerHTML="0",h.style.display="block";var E=h.getBoundingClientRect().height;return h.innerHTML="",{element:c,lines:k,lineHeights:[],oneLinerHeight:E,sizer:h}}}).filter(Boolean);a.forEach(function(c){var v=c.sizer,y=c.lines,h=c.lineHeights,k=c.oneLinerHeight;h[y.length-1]=void 0,y.forEach(function(E,S){if(E&&E.length>1){var x=v.appendChild(document.createElement("span"));x.style.display="block",x.textContent=E}else h[S]=k})}),a.forEach(function(c){for(var v=c.sizer,y=c.lineHeights,h=0,k=0;k<y.length;k++)y[k]===void 0&&(y[k]=v.children[h++].getBoundingClientRect().height)}),a.forEach(function(c){var v=c.sizer,y=c.element.querySelector(".line-numbers-rows");v.style.display="none",v.innerHTML="",c.lineHeights.forEach(function(h,k){y.children[k].style.height=h+"px"})})}}function s(l){return l?window.getComputedStyle?getComputedStyle(l):l.currentStyle||null:null}var d=void 0;window.addEventListener("resize",function(){n.assumeViewportIndependence&&d===window.innerWidth||(d=window.innerWidth,t(Array.prototype.slice.call(document.querySelectorAll("pre."+e))))}),Prism.hooks.add("complete",function(l){if(l.code){var a=l.element,c=a.parentNode;if(!(!c||!/pre/i.test(c.nodeName))&&!a.querySelector(".line-numbers-rows")&&Prism.util.isActive(a,e)){a.classList.remove(e),c.classList.add(e);var v=l.code.match(r),y=v?v.length+1:1,h,k=new Array(y+1).join("<span></span>");h=document.createElement("span"),h.setAttribute("aria-hidden","true"),h.className="line-numbers-rows",h.innerHTML=k,c.hasAttribute("data-start")&&(c.style.counterReset="linenumber "+(parseInt(c.getAttribute("data-start"),10)-1)),l.element.appendChild(h),t([c]),Prism.hooks.run("line-numbers",l)}}}),Prism.hooks.add("line-numbers",function(l){l.plugins=l.plugins||{},l.plugins.lineNumbers=!0})}();var de={},D={};R.url_prefix=R.url_prefix+le.version;function Se(e,r){e.active=r,r?e.button.classList.replace("off","on"):e.button.classList.replace("on","off")}function ot(e){let r=document.createElement("button");return r.classList.add("toggle"),r.classList.add("off"),r.innerHTML=e.title,r.onclick=function(){Se(e,!e.active)},r}const st=document.getElementById("passes");for(let e of se.passes){let r=ot(e);e.button=r,st.appendChild(r)}function lt(){return se.passes.filter(e=>e.active).map(e=>e.name)}function ut(e){if("passes"in e)for(let r of se.passes)Se(r,e.passes.includes(r.name))}document.getElementById("compile").onclick=function(){ct()};function ct(){let e=lt(),r=D.libraries.map(l=>l.code).join(`
`);var n=Be(e,r,D.code);const t=document.getElementById("diffEditor"),s=t.querySelector("#input"),d=t.querySelector("#output");d.innerHTML=n,B.highlightElement(s),B.highlightElement(d)}async function dt(e,r){if(e in de)return await de[e];{let n=`${R.url_prefix}${r}${e}`,t=await(await fetch(n)).text();if(/import/g.test(t)){let s=e.split("/").slice(0,-1).join("/"),d=Array.from(t.matchAll(/import "(.*)";/g)).map(c=>c[1]),l=await _e(d,`${r}/${s}/`),a=/import "(.*)";/g;t=t.replaceAll(a,"");for(let c of l)t+=c.code}return de[e]=t,t}}async function _e(e,r){let n=e.map(async function(t){let s=await dt(t,r);return{name:t,code:s}});return await Promise.all(n)}const Ce=document.getElementById("input");Ce.oninput=function(){D.code=Ce.innerText};const te=document.getElementById("examples-select");for(let e of R.examples){let r=document.createElement("option");r.text=e.name,r.value=JSON.stringify(e),te.add(r)}async function pt(e,r){let n=`${R.url_prefix}${r}${e}`,t=await(await fetch(n)).text(),s=/import "(.*)";/g,d=Array.from(t.matchAll(s)).map(a=>a[1]),l=await _e(d,r);return t=t.replaceAll(s,""),{code:t.trim(),libraries:l}}te.onchange=function(){const e=document.getElementById("input"),r=document.getElementById("output");e.innerHTML="loading...",r.innerHTML="Compile `compile` to generate output.";let n=JSON.parse(te.value);pt(n.file,n.root).then(t=>D=t).then(()=>{e.innerHTML=D.code;const t=document.getElementById("diffEditor").querySelector("#input");B.highlightElement(t)}).then(()=>ut(n))},te.onchange();const $e=document.getElementById("calyx-version"),pe=document.createElement("a");pe.appendChild(document.createTextNode(le.version.slice(0,8))),pe.href="https://github.com/calyxir/calyx/tree/"+le.version,$e.appendChild(document.createTextNode("Built with Calyx version ")),$e.appendChild(pe)})();
